<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="API References" href="api.html" /><link rel="prev" title="Development Notes" href="dev%20notes.html" />

    <!-- Generated with Sphinx 6.1.3 and Furo 2022.12.07 -->
        <title>Design Principles - mesh4d v0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">mesh4d v0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo_polyu.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">mesh4d v0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dev%20notes.html">Development Notes</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Design Principles</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="api.html">API References</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="_autosummary/mesh4d.html">mesh4d</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/mesh4d.analyse.html">mesh4d.analyse</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="_autosummary/mesh4d.analyse.crave.html">mesh4d.analyse.crave</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.crave.clip_with_contour.html">mesh4d.analyse.crave.clip_with_contour</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.crave.fix_pvmesh_disconnect.html">mesh4d.analyse.crave.fix_pvmesh_disconnect</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.crave.landmarks_labelling.html">mesh4d.analyse.crave.landmarks_labelling</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.crave.obj_pick_points.html">mesh4d.analyse.crave.obj_pick_points</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="_autosummary/mesh4d.analyse.measure.html">mesh4d.analyse.measure</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.measure.estimate_plane_from_points.html">mesh4d.analyse.measure.estimate_plane_from_points</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.measure.marker_trace_length.html">mesh4d.analyse.measure.marker_trace_length</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.measure.markerset_trace_length.html">mesh4d.analyse.measure.markerset_trace_length</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.measure.points_get_center.html">mesh4d.analyse.measure.points_get_center</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.measure.points_get_max_bound.html">mesh4d.analyse.measure.points_get_max_bound</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.measure.points_get_min_bound.html">mesh4d.analyse.measure.points_get_min_bound</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="_autosummary/mesh4d.analyse.visual.html">mesh4d.analyse.visual</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.visual.np2pvpcd.html">mesh4d.analyse.visual.np2pvpcd</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.visual.show_mesh_value_mask.html">mesh4d.analyse.visual.show_mesh_value_mask</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.analyse.visual.show_obj3d_diff.html">mesh4d.analyse.visual.show_obj3d_diff</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/mesh4d.config.html">mesh4d.config</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.config.param.html">mesh4d.config.param</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/mesh4d.field.html">mesh4d.field</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.field.Trans.html">mesh4d.field.Trans</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.field.Trans_Nonrigid.html">mesh4d.field.Trans_Nonrigid</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.field.Trans_Rigid.html">mesh4d.field.Trans_Rigid</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.field.transform_rst2sm.html">mesh4d.field.transform_rst2sm</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.field.transform_sm2rst.html">mesh4d.field.transform_sm2rst</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/mesh4d.kps.html">mesh4d.kps</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.kps.Kps.html">mesh4d.kps.Kps</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.kps.Marker.html">mesh4d.kps.Marker</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.kps.MarkerSet.html">mesh4d.kps.MarkerSet</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/mesh4d.obj3d.html">mesh4d.obj3d</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.obj3d.Obj3d.html">mesh4d.obj3d.Obj3d</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.obj3d.Obj3d_Deform.html">mesh4d.obj3d.Obj3d_Deform</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.obj3d.Obj3d_Kps.html">mesh4d.obj3d.Obj3d_Kps</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.obj3d.init_obj_series.html">mesh4d.obj3d.init_obj_series</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.obj3d.load_mesh_series.html">mesh4d.obj3d.load_mesh_series</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.obj3d.np2pcd.html">mesh4d.obj3d.np2pcd</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.obj3d.pcd2np.html">mesh4d.obj3d.pcd2np</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/mesh4d.obj4d.html">mesh4d.obj4d</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.obj4d.Obj4d.html">mesh4d.obj4d.Obj4d</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.obj4d.Obj4d_Deform.html">mesh4d.obj4d.Obj4d_Deform</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.obj4d.Obj4d_Kps.html">mesh4d.obj4d.Obj4d_Kps</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/mesh4d.regist.html">mesh4d.regist</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="_autosummary/mesh4d.regist.reg_cpd.html">mesh4d.regist.reg_cpd</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.regist.reg_cpd.Obj4d_CPD.html">mesh4d.regist.reg_cpd.Obj4d_CPD</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.regist.reg_cpd.Trans_Nonrigid_CPD.html">mesh4d.regist.reg_cpd.Trans_Nonrigid_CPD</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="_autosummary/mesh4d.regist.reg_ecpd.html">mesh4d.regist.reg_ecpd</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.regist.reg_ecpd.Obj4d_ECPD.html">mesh4d.regist.reg_ecpd.Obj4d_ECPD</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.regist.reg_ecpd.Trans_Nonrigid_ECPD.html">mesh4d.regist.reg_ecpd.Trans_Nonrigid_ECPD</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="_autosummary/mesh4d.regist.reg_rbf.html">mesh4d.regist.reg_rbf</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.regist.reg_rbf.Obj4d_RBF.html">mesh4d.regist.reg_rbf.Obj4d_RBF</a></li>
<li class="toctree-l5"><a class="reference internal" href="_autosummary/mesh4d.regist.reg_rbf.Trans_Nonrigid_RBF.html">mesh4d.regist.reg_rbf.Trans_Nonrigid_RBF</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="_autosummary/mesh4d.utils.html">mesh4d.utils</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.utils.images_to_gif.html">mesh4d.utils.images_to_gif</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.utils.load_pkl_object.html">mesh4d.utils.load_pkl_object</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.utils.progress_bar.html">mesh4d.utils.progress_bar</a></li>
<li class="toctree-l4"><a class="reference internal" href="_autosummary/mesh4d.utils.save_pkl_object.html">mesh4d.utils.save_pkl_object</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="design-principles">
<h1>Design Principles<a class="headerlink" href="#design-principles" title="Permalink to this heading">#</a></h1>
<p>As discussed in <a class="reference internal" href="dev%20notes.html#project-code"><span class="std std-ref">Project Code</span></a>, there are 5 <code class="docutils literal notranslate"><span class="pre">.py</span></code> files directly under the <code class="docutils literal notranslate"><span class="pre">mesh4d/</span></code> folder. These are 4 <strong>core modules</strong> (<a class="reference internal" href="_autosummary/mesh4d.obj4d.html#module-mesh4d.obj4d" title="mesh4d.obj4d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.obj4d</span></code></a>, <a class="reference internal" href="_autosummary/mesh4d.obj3d.html#module-mesh4d.obj3d" title="mesh4d.obj3d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.obj3d</span></code></a>, <a class="reference internal" href="_autosummary/mesh4d.kps.html#module-mesh4d.kps" title="mesh4d.kps"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.kps</span></code></a>, <a class="reference internal" href="_autosummary/mesh4d.field.html#module-mesh4d.field" title="mesh4d.field"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.field</span></code></a>) and 1 <strong>auxiliary modules</strong> (<a class="reference internal" href="_autosummary/mesh4d.utils.html#module-mesh4d.utils" title="mesh4d.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.utils</span></code></a>) of this project.</p>
<p>They serve as the skeleton to support any downstream analysis task. Therefore, it’s necessary to understand their inner relationship so that you would know how to utilise it, tweak it, and advance it to fit your customised need.</p>
<section id="what-makes-an-analysable-4d-scene">
<h2>What makes an analysable 4D scene?<a class="headerlink" href="#what-makes-an-analysable-4d-scene" title="Permalink to this heading">#</a></h2>
<p>As suggested by the name, 4D scanning is an imaging system that can record 3D + T data, i.e. 3 dimensions of space and 1 dimension of time. To be more specific, the 3dMD 4D scanning system records 3D image series in very high time- and space- resolution.</p>
<p>Therefore, it can provide very rich information on the dynamic movement and deformation of the human body during active activities. However, there is a crucial lack of inner-relationship information between different frames of 3D images:</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>For example, with the 5th and 6th frames of 3D images, we know that the former one transforms into the next one. However, for any specific point in the 5th frame, we don’t know which point in the 6th frame it transfers to.</p>
<p><em>Such lack of information blocks the way of any sophisticated and thematic analysis of the 4D data</em>, such as tracing the movement of the nipple points and tracking the variation of the upper arm area during some kind of sports activity.</p>
</div>
<p>Actually, the whole <a class="reference internal" href="_autosummary/mesh4d.html#module-mesh4d" title="mesh4d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d</span></code></a> project is motivated and centred around this bottleneck problem. We aims at revealing the so-called inner-relationship information between different frames. <strong>An analysable 4D scene must consists such information</strong>. At the most meticulous level, the inner-relationship information can be represented as a <em>displacement field</em>. That is, specifically, in which direction and to what distance a point in a 3D frame is moving.</p>
</section>
<section id="construction-of-the-analysable-4d-scene">
<h2>Construction of the analysable 4D scene<a class="headerlink" href="#construction-of-the-analysable-4d-scene" title="Permalink to this heading">#</a></h2>
<p>The development of the core modules and 1 auxiliary modules (<a class="reference internal" href="_autosummary/mesh4d.utils.html#module-mesh4d.utils" title="mesh4d.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.utils</span></code></a>) is centred around constructing an <a class="reference internal" href="#what-makes-an-analysable-4d-scene"><span class="std std-ref">analysable 4D scene</span></a>. It follows such a pattern:</p>
<ul class="simple">
<li><p>The 4D object defined in <a class="reference internal" href="_autosummary/mesh4d.obj4d.html#module-mesh4d.obj4d" title="mesh4d.obj4d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.obj4d</span></code></a> contains of a series of 3D objects.</p></li>
<li><p>The 3D object defined in <a class="reference internal" href="_autosummary/mesh4d.obj3d.html#module-mesh4d.obj3d" title="mesh4d.obj3d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.obj3d</span></code></a> contains the loaded mesh, point cloud, key point coordinates (provided by Vicon), and the estimated displacement field.</p></li>
<li><p>Tools for handling key point coordinates and estimating displacement field are provided in <a class="reference internal" href="_autosummary/mesh4d.kps.html#module-mesh4d.kps" title="mesh4d.kps"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.kps</span></code></a> and <a class="reference internal" href="_autosummary/mesh4d.field.html#module-mesh4d.field" title="mesh4d.field"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.field</span></code></a>, respectively.</p></li>
</ul>
<p>At this stage, the structure is still quite clear, right? It’s even more simple in actual usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">mesh4d</span> <span class="k">as</span> <span class="nn">umc</span>

<span class="c1"># load Vicon motion capture data</span>
<span class="n">vicon</span> <span class="o">=</span> <span class="n">umc</span><span class="o">.</span><span class="n">kps</span><span class="o">.</span><span class="n">MarkerSet</span><span class="p">()</span>
<span class="n">vicon</span><span class="o">.</span><span class="n">load_from_vicon</span><span class="p">(</span><span class="s1">&#39;data/6kmh_softbra_8markers_1.csv&#39;</span><span class="p">)</span>
<span class="n">vicon</span><span class="o">.</span><span class="n">interp_field</span><span class="p">()</span>

<span class="c1"># load 3dMD scanning data</span>
<span class="n">o3_ls</span> <span class="o">=</span> <span class="n">umc</span><span class="o">.</span><span class="n">obj3d</span><span class="o">.</span><span class="n">load_obj_series</span><span class="p">(</span>
 <span class="n">folder</span><span class="o">=</span><span class="s1">&#39;data/6kmh_softbra_8markers_1/&#39;</span><span class="p">,</span>
 <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
 <span class="n">end</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
 <span class="n">sample_num</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
 <span class="n">obj_type</span><span class="o">=</span><span class="n">umc</span><span class="o">.</span><span class="n">obj3d</span><span class="o">.</span><span class="n">Obj3d_Deform</span>
<span class="p">)</span>

<span class="c1"># initialise 4D scene object</span>
<span class="n">o4</span> <span class="o">=</span> <span class="n">umc</span><span class="o">.</span><span class="n">obj4d</span><span class="o">.</span><span class="n">Obj4d_Deform</span><span class="p">(</span>
 <span class="n">markerset</span><span class="o">=</span><span class="n">vicon</span><span class="p">,</span>
 <span class="n">fps</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
 <span class="n">enable_rigid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
 <span class="n">enable_nonrigid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># load 3D data to 3d scene</span>
<span class="c1"># the displacement field estimation will be implemented automatically</span>
<span class="n">o4</span><span class="o">.</span><span class="n">add_obj</span><span class="p">(</span><span class="o">*</span><span class="n">o3_ls</span><span class="p">)</span>
</pre></div>
</div>
<p>In this code example, a 4D scene object for further analysis is prepared in 4 steps.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For specific meaning and usage of these functions and their inputs, please refer to the <a class="reference internal" href="api.html"><span class="doc">API References</span></a>.</p>
</div>
</section>
<section id="object-orientated-development">
<h2>Object-orientated development<a class="headerlink" href="#object-orientated-development" title="Permalink to this heading">#</a></h2>
<p>Now we have an analysable 4D object, but inside it, there aren’t many functions for analysis. What’s the deal?</p>
<p>It’s related to our <em>design idea</em>: object-orientated development. If you’re not familiar with this idea, let me explain some bit of it to you. Object-orientated development, aka object-orientated programming, is a kind of programming paradigm that abstracts the programming problem into objects. In the real world, problems are always related to <em>objects</em>. For example:</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>The traffic light scheduling problem is consist of 3 types of objects, aka 3 classes: <code class="docutils literal notranslate"><span class="pre">car</span></code>, <code class="docutils literal notranslate"><span class="pre">human</span></code>, and <code class="docutils literal notranslate"><span class="pre">road</span></code>. Each of the objects contains a series of actions (represented as a function in programming), variables (such as speed and size, represented as attributes in programming), and interactions with other objects.</p>
</div>
<p>In our project, the object relationship is:</p>
<ul class="simple">
<li><p>4D object contains a series of 3D objects.</p></li>
<li><p>3D object contains mesh object, point cloud object, key points object, and displacement field object.</p></li>
</ul>
<p>It makes it much easier to manage complex elements with numerous parameters that need to be taken care of since it groups elements into independent objects in a logical way. However, that’s only half of the advantage of object-orientated programming. <strong>Inheritance</strong> is even more powerful. Let’s go back to the traffic light scheduling example:</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<p>There are various kinds of <code class="docutils literal notranslate"><span class="pre">car</span></code>, such as <code class="docutils literal notranslate"><span class="pre">bus</span></code>, <code class="docutils literal notranslate"><span class="pre">truck</span></code>, and <code class="docutils literal notranslate"><span class="pre">van</span></code>. They are all <code class="docutils literal notranslate"><span class="pre">car</span></code>s so they should share some common attributes and functions with <code class="docutils literal notranslate"><span class="pre">car</span></code> objects, while they all have some special attributes and functions.</p>
<p>In object-orientated programming, a <code class="docutils literal notranslate"><span class="pre">bus</span></code> class can be defined as derived from the <code class="docutils literal notranslate"><span class="pre">car</span></code> object, inheriting attributes and functions of <code class="docutils literal notranslate"><span class="pre">car</span></code> class, and adding/revising its supplement attributes and functions. And so do the <code class="docutils literal notranslate"><span class="pre">truck</span></code> and <code class="docutils literal notranslate"><span class="pre">van</span></code> classes.</p>
</div>
<p>With inheritance, the development of classes can lay out in an incremental fashion. If you jump into <a class="reference internal" href="_autosummary/mesh4d.obj3d.html#module-mesh4d.obj3d" title="mesh4d.obj3d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.obj3d</span></code></a> and <a class="reference internal" href="_autosummary/mesh4d.obj4d.html#module-mesh4d.obj4d" title="mesh4d.obj4d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.obj4d</span></code></a>, you will find that they all contain 3 classes, 1 without suffix and 2 with suffixe <code class="docutils literal notranslate"><span class="pre">_Kps</span></code> or <code class="docutils literal notranslate"><span class="pre">_Deform</span></code>:</p>
<ul class="simple">
<li><p>The classes without suffix (<a class="reference internal" href="_autosummary/mesh4d.obj3d.Obj3d.html#mesh4d.obj3d.Obj3d" title="mesh4d.obj3d.Obj3d"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obj3d</span></code></a> and <a class="reference internal" href="_autosummary/mesh4d.obj4d.Obj4d.html#mesh4d.obj4d.Obj4d" title="mesh4d.obj4d.Obj4d"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obj4d</span></code></a>) are the basic classes for 3D and 4D objects. Only basic features like loading from 3dMD scanning data and sampling the point cloud are realised.</p></li>
<li><p>The classes with suffix <code class="docutils literal notranslate"><span class="pre">_Kps</span></code> (<a class="reference internal" href="_autosummary/mesh4d.obj3d.Obj3d_Kps.html#mesh4d.obj3d.Obj3d_Kps" title="mesh4d.obj3d.Obj3d_Kps"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obj3d_Kps</span></code></a> and <a class="reference internal" href="_autosummary/mesh4d.obj4d.Obj4d_Kps.html#mesh4d.obj4d.Obj4d_Kps" title="mesh4d.obj4d.Obj4d_Kps"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obj4d_Kps</span></code></a>) are derived from <a class="reference internal" href="_autosummary/mesh4d.obj3d.Obj3d.html#mesh4d.obj3d.Obj3d" title="mesh4d.obj3d.Obj3d"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obj3d</span></code></a> and <a class="reference internal" href="_autosummary/mesh4d.obj4d.Obj4d.html#mesh4d.obj4d.Obj4d" title="mesh4d.obj4d.Obj4d"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obj4d</span></code></a>, respectively. The major development is attaching key points (<a class="reference internal" href="_autosummary/mesh4d.kps.Kps.html#mesh4d.kps.Kps" title="mesh4d.kps.Kps"><code class="xref py py-class docutils literal notranslate"><span class="pre">Kps</span></code></a>) to it.</p></li>
<li><p>The classes with suffix <code class="docutils literal notranslate"><span class="pre">_Deform</span></code> (<a class="reference internal" href="_autosummary/mesh4d.obj3d.Obj3d_Deform.html#mesh4d.obj3d.Obj3d_Deform" title="mesh4d.obj3d.Obj3d_Deform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obj3d_Deform</span></code></a> and <a class="reference internal" href="_autosummary/mesh4d.obj4d.Obj4d_Deform.html#mesh4d.obj4d.Obj4d_Deform" title="mesh4d.obj4d.Obj4d_Deform"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obj4d_Deform</span></code></a>) are derived from <a class="reference internal" href="_autosummary/mesh4d.obj3d.Obj3d_Kps.html#mesh4d.obj3d.Obj3d_Kps" title="mesh4d.obj3d.Obj3d_Kps"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obj3d_Kps</span></code></a> and <a class="reference internal" href="_autosummary/mesh4d.obj4d.Obj4d_Kps.html#mesh4d.obj4d.Obj4d_Kps" title="mesh4d.obj4d.Obj4d_Kps"><code class="xref py py-class docutils literal notranslate"><span class="pre">Obj4d_Kps</span></code></a>, respectively. The major development is attaching the displacement field (<a class="reference internal" href="_autosummary/mesh4d.field.Trans_Rigid.html#mesh4d.field.Trans_Rigid" title="mesh4d.field.Trans_Rigid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trans_Rigid</span></code></a> and <a class="reference internal" href="_autosummary/mesh4d.field.Trans_Nonrigid.html#mesh4d.field.Trans_Nonrigid" title="mesh4d.field.Trans_Nonrigid"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trans_Nonrigid</span></code></a>) to it.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>At the page of each module, such as <a class="reference internal" href="_autosummary/mesh4d.obj4d.html#module-mesh4d.obj4d" title="mesh4d.obj4d"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.obj4d</span></code></a>, an inheritance relationship graph is shown under the table of classes.</p>
</div>
<p>Now let’s go back to the original question: <strong>the 4D object class provided by the core modules doesn’t have many functions for analysis. Such functions will be realised in the derived classes.</strong> Specifically, when we’d like to extend the ability of any of the classes that we discussed upwards, we derive a new class and insert/revise attributes or functions in it to fit the need.</p>
<p>In this way, with one set of unified core modules, this package can be fine-tuned for any future analysis demands. <strong>With all the extended classes serving for advanced analysis, we form a future-proof, evolvable ecosystem for human factor research</strong>.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>The extended classes should be placed in <code class="xref py py-mod docutils literal notranslate"><span class="pre">mesh4d.analysis</span></code> sub-package. Since the core modules are providing a skeleton for all downstream classes, it shall not be modified unless there are very strong reasons to do so, otherwise unpredictable issues may emerge.</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Considering the intensive use of object-orientated development, developers involved in this project are expected to be proficient in Python object-orientated programming.</p>
</div>
</section>
<section id="overall-structure-of-the-core-modules">
<h2>Overall structure of the core modules<a class="headerlink" href="#overall-structure-of-the-core-modules" title="Permalink to this heading">#</a></h2>
<p>The overall structure of the core modules is illustrated below. Noted that the solid arrow pointing from <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">A</span></code> to <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">B</span></code> indicates that <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">B</span></code> is derived from <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">A</span></code>, while the dotted arrow indicates that a <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">A</span></code> object contains a <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">B</span></code> object as an attribute:</p>
<figure class="align-default" id="id1">
<img alt="_images/overall_structure.png" src="_images/overall_structure.png" />
<figcaption>
<p><span class="caption-text">Overall structure of the core modules.</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="api.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">API References</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="dev%20notes.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Development Notes</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Dr. Kit-lun Yick&#39;s Research Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Design Principles</a><ul>
<li><a class="reference internal" href="#what-makes-an-analysable-4d-scene">What makes an analysable 4D scene?</a></li>
<li><a class="reference internal" href="#construction-of-the-analysable-4d-scene">Construction of the analysable 4D scene</a></li>
<li><a class="reference internal" href="#object-orientated-development">Object-orientated development</a></li>
<li><a class="reference internal" href="#overall-structure-of-the-core-modules">Overall structure of the core modules</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    </body>
</html>